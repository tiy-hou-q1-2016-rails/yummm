<button type="button" name="button" class="start-chart">Start Chart</button>


<script>

  var buildThatChart = function(){
    $.getJSON("/charts/data.json")
      .done(function(json){

        var theArray = [
          ['Task', 'Hours per Day'],
        ];

        json.forEach(function(result){
          theArray.push([result.task, result.hours_per_day]);
        });

        var data = google.visualization.arrayToDataTable(theArray);

        var options = {
          title: 'My Daily Activities'
        };

        var chart = new google.visualization.PieChart(document.getElementById('piechart'));

        chart.draw(data, options);


      })
  };

  $(window).ready(function(){
      // do some stuff
      setInterval(function(){
        buildThatChart();
      }, 2000);
  })

  $(window).ready(function(){
    $("button.start-chart").on("click", function(){
      buildThatChart();
    })
  });
</script>

<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});

    </script>


    <div id="piechart" style="width: 900px; height: 500px;"></div>
